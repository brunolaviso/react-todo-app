(this["webpackJsonptodo-app-react"]=this["webpackJsonptodo-app-react"]||[]).push([[0],{21:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a(0),n=a.n(s),l=a(4),o=a.n(l),r=(a(21),a(6)),i=a(2),d=a(14),m=a(3),u=a(15),b=a(5);var j=function(){var e=Object(s.useState)(""),t=Object(m.a)(e,2),a=t[0],n=t[1],l=localStorage.getItem("theme"),o=document.body;return Object(s.useEffect)((function(){l?(o.classList.add(l),n(l)):(o.classList.add("dark"),n("dark"))}),[]),Object(c.jsxs)("header",{className:"header",children:[Object(c.jsx)("h1",{className:"header__heading",children:"TODO"}),Object(c.jsx)("button",{"aria-label":"change theme",onClick:function(){"dark"===a?(o.classList.replace("dark","light"),localStorage.setItem("theme","light"),n("light")):"light"===a&&(o.classList.replace("light","dark"),localStorage.setItem("theme","dark"),n("dark"))},className:"header__icon"})]})};var O=function(e){var t=Object(s.useState)(""),a=Object(m.a)(t,2),n=a[0],l=a[1];return Object(c.jsx)("div",{className:"form-wrapper",children:Object(c.jsx)("form",{onSubmit:function(t){t.preventDefault(),e.addTask(n),l("")},className:"form ",children:Object(c.jsx)("input",{maxLength:"44",value:n,onChange:function(e){l(e.target.value)},className:"form__input box",placeholder:"Create a new todo..",required:!0})})})};var k=function(e){var t=Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"9",children:Object(c.jsx)("path",{fill:"none",stroke:"#FFF",strokeWidth:"2",d:"M1 4.304L3.696 7l6-6"})}),a=Object(c.jsx)("button",{onClick:function(){e.deleteTask(e.id)},"aria-label":"Delete task",className:"icon-cross",type:"button",children:Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",children:Object(c.jsx)("path",{fill:"#494C6B",fillRule:"evenodd",d:"M16.97 0l.708.707L9.546 8.84l8.132 8.132-.707.707-8.132-8.132-8.132 8.132L0 16.97l8.132-8.132L0 .707.707 0 8.84 8.132 16.971 0z"})})}),s=Object(c.jsx)(b.b,{draggableId:e.task.id,index:e.index,children:function(s){return Object(c.jsxs)("li",Object(i.a)(Object(i.a)(Object(i.a)({className:"box todo-item"},s.draggableProps),s.dragHandleProps),{},{ref:s.innerRef,children:[Object(c.jsx)("button",{"aria-label":e.isCompleted?"uncheck task":"check task as completed",onClick:function(){return e.toggleTaskCompleted(e.id)},className:"checkbox ".concat(e.isCompleted?"todo-item__checked":""),children:e.isCompleted?t:""}),Object(c.jsx)("span",{onClick:function(){return e.toggleTaskCompleted(e.id)},className:"todo-item__task-name ".concat(e.isCompleted?"todo-item__striked":""),children:e.task.name}),a]}))}}),n=Object(c.jsxs)("li",{className:"box todo-item",children:[Object(c.jsx)("button",{"aria-label":e.isCompleted?"uncheck task":"check task as completed",onClick:function(){return e.toggleTaskCompleted(e.id)},className:"checkbox ".concat(e.isCompleted?"todo-item__checked":""),children:e.isCompleted?t:""}),Object(c.jsx)("span",{onClick:function(){return e.toggleTaskCompleted(e.id)},className:"todo-item__task-name ".concat(e.isCompleted?"todo-item__striked":""),children:e.task.name}),a]});return"All"===e.filter?s:n};var p=function(e){return Object(c.jsx)(b.c,{droppableId:e.column.id,children:function(t){return Object(c.jsxs)("ul",Object(i.a)(Object(i.a)({className:"ul",ref:t.innerRef},t.droppableProps),{},{children:[e.tasks.map((function(t,a){return Object(c.jsx)(k,{deleteTask:e.deleteTask,id:t.id,toggleTaskCompleted:e.toggleTaskCompleted,name:t.name,isCompleted:t.completed,index:a,task:t,filter:e.filter},t.id)})),t.placeholder]}))}})};var f=function(e){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("button",{"aria-label":"show ".concat(e.name," tasks"),className:"filter-buttons__mid-button ".concat(e.isPressed?"filter-buttons__butt-pressed":""),onClick:function(){return e.setFilter(e.name)},type:"button","aria-pressed":e.isPressed,children:Object(c.jsx)("span",{children:e.name})})})},h={All:function(){return!0},Active:function(e){return!e.completed},Completed:function(e){return e.completed}},g=Object.keys(h);var x=function(e){var t=localStorage.getItem("tasks"),a=Object(s.useState)(t?JSON.parse(t):e.DATA),n=Object(m.a)(a,2),l=n[0],o=n[1],k=Object(s.useState)("All"),x=Object(m.a)(k,2),v=x[0],C=x[1],N=l.columns.columnOne,_=N.taskIds.map((function(e){return l.tasks[e]})),I=_.filter(h.Active),S=_.filter(h.Completed),T=_.filter(h[v]),w=Object(c.jsx)(p,{deleteTask:function(e){var t=l.tasks;delete t[e];var a={taskIds:l.columns.columnOne.taskIds.filter((function(t){return t!==e}))},c=Object(i.a)(Object(i.a)({},l),{},{tasks:t,columns:{columnOne:Object(i.a)(Object(i.a)({},l.columns.columnOne),a)}});o(c),localStorage.setItem("tasks",JSON.stringify(c))},toggleTaskCompleted:function(e){var t=_.map((function(t){if(e===t.id)return Object(i.a)(Object(i.a)({},t),{},{completed:!t.completed})})).filter((function(e){return e})),a=Object(i.a)(Object(i.a)({},l),{},{tasks:Object(i.a)(Object(i.a)({},l.tasks),{},Object(r.a)({},e,t[0]))});o(a),localStorage.setItem("tasks",JSON.stringify(a))},column:N,tasks:T,filter:v},N.id),y=g.map((function(e){return Object(c.jsx)(f,{name:e,isPressed:e===v,setFilter:C},e)}));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"background-img"}),Object(c.jsxs)("div",{className:"app-wrapper",children:[Object(c.jsx)(j,{}),Object(c.jsx)(O,{addTask:function(e){var t="task-".concat(Object(u.a)()),a={id:"".concat(t),name:e,completed:!1},c={taskIds:[].concat(Object(d.a)(l.columns.columnOne.taskIds),[t])},s=Object(i.a)(Object(i.a)({},l),{},{tasks:Object(i.a)(Object(i.a)({},l.tasks),{},Object(r.a)({},t,a)),columns:{columnOne:Object(i.a)(Object(i.a)({},l.columns.columnOne),c)}});o(s),localStorage.setItem("tasks",JSON.stringify(s)),C("All")}}),Object(c.jsx)(b.a,{onDragEnd:function(e){var t=e.destination,a=e.source,c=e.draggableId;if(t&&(t.droppableId!==a.droppableId||t.index!==a.index)){var s=l.columns[a.droppableId],n=Array.from(s.taskIds);n.splice(a.index,1),n.splice(t.index,0,c);var d=Object(i.a)(Object(i.a)({},s),{},{taskIds:n}),m=Object(i.a)(Object(i.a)({},l),{},{columns:Object(i.a)(Object(i.a)({},l.columns),{},Object(r.a)({},d.id,d))});o(m),localStorage.setItem("tasks",JSON.stringify(m))}},children:w}),Object(c.jsxs)("div",{className:"filter-buttons box",children:[Object(c.jsxs)("div",{className:"filter-buttons__items-left",children:[I.length," items left"]}),Object(c.jsx)("div",{className:"filter-buttons__mid-buttons-wrapper",id:"lukas",children:y}),Object(c.jsx)("div",{onClick:function(){var e=l.tasks,t=l.columns.columnOne.taskIds,a=S.map((function(e){return e.id})),c=t.filter((function(e){return!a.includes(e)}));S.map((function(t){delete e[t.id]}));var s={taskIds:c},n=Object(i.a)(Object(i.a)({},l),{},{tasks:e,columns:{columnOne:Object(i.a)(Object(i.a)({},l.columns.columnOne),s)}});o(n),localStorage.setItem("tasks",JSON.stringify(n))},children:Object(c.jsx)("button",{"aria-label":"clear completed tasks",type:"button",className:"filter-buttons__clear-completed",children:"Clear completed"})})]}),Object(c.jsx)("div",{className:"box filter-buttons-mobile",children:Object(c.jsx)("div",{children:y})}),"All"===v?Object(c.jsx)("p",{className:"dnd-to-reorder dnd-to-reorder--mobile",children:"Drag and drop to reorder list"}):""]})]})},v=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,29)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,l=t.getTTFB;a(e),c(e),s(e),n(e),l(e)}))};o.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(x,{DATA:{tasks:{"task-1":{id:"task-1",name:"Watch my favorite show",completed:!0},"task-2":{id:"task-2",name:"Take out the garbage",completed:!0},"task-4":{id:"task-4",name:"Cook dinner",completed:!1}},columns:{columnOne:{id:"columnOne",title:"To do",taskIds:["task-1","task-2","task-4"]}},columnOrder:["columnOne"]}})}),document.getElementById("root")),v()}},[[28,1,2]]]);
//# sourceMappingURL=main.3c67d5d8.chunk.js.map